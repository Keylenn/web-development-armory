<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>函数对象</title>
	<script>
	//函数基础(没有重载)
	
	//1.作用：为了在需要的时候实现某些功能 ———决定是否用
	
	//2.声明
	/*
		 1)function 函数名(参数列表){ 		//决定怎么用
			功能段（一条或多条）			//决定是否用
			return 值;						//可选，决定调用后何如处理
		 }
		 2）var 函数名 = new Function("参数1","参数2","内容1;内容2");
	

	*/
		
		//test(a,b) :计算a+b的值并返回
		function test(a, b){
			document.write("success" + '<br/>');
			return 	a + b;
		}
		var fn = new Function("arg1", "arg2", "var c =  arg1 * arg2; return c ;");
		document.write(fn(2, 3)+"<br/>") //6

	//3.使用
		//1)调用 函数名();
		 document.write(test(1,2));

		//2)访问指针 函数名————可以做变量 也可以做参数
		document.write('<br/>')
		var d = test;
		d();
	//4.函数内部的特殊对象
		//1)arguments: 为当前执行的 function 对象返回一个arguments 对象
			// arguments 对象的 length 属性包含了传递给函数的参数的数目
				function ArgLenTest(a, b, c, d){
					var l = arguments.length;//在不改变的函数名的情况下, ArgLenTest.length = arguments.length
					document.write(l);
				}
				ArgLenTest(1,2,3,4);
			// arguments 对象的 callee 属性指向拥有arguments对象的函数
			// factorial(num):阶乘函数
				function factorial(num){
					if(num<=1){
						return 1;
					}else{
						return num * arguments.callee(num - 1); 
						//在不改变的函数名的情况下,factorial(num - 1) = arguments.callee(num - 1)
					}
				}
				document.write('<br/>' + factorial(5));
				var g = factorial;
				document.write('<br/>' + g(6));
	
		//2)this：引用当前执行环境的对象（在网页全局中为window对象，在函数中代指函数对象）
				window.color = "red";
				var o = { color :"blue" };
				function sayColor(){
					document.write("<br/>" + this.color);
				}
				sayColor();
				o.sayColor = sayColor;
				o.sayColor();
	//5.方法
		//1）objectname.toString([radix])返回对象的字符串表示
		document.write('<br/>' + test.toString());
		//2)object.valueOf( )返回指定对象的原始值
		document.write('<br/>' + test.valueOf());
		//3)call()、apply():①传递参数②扩充作用域
	//6.匿名函数：匿名函数就是没有实际名字的函数
		// 声明
		console.log(typeof function(x,y){return x+y;});// "function"  
		console.log(typeof new Function("x","y","return x*y;"))// "function"  
		//调用
			//①立即调用
			console.log((function(x,y){return x+y;})(2,3));//5 函数体加括号后在其后加小括号，可以实现对匿名传参
			//②帮它找一个名字	
		    var abc=function(x,y){  
      			return x+y;  
    			}  
    		console.log(abc(2,3)); // "5"
    		//③作为参数传递给其他函数,作为匿名回调函数
    		function add(a,b){
    			console.log(a(1,2)+b(1,2));
    		}
    		add(function(){return 1;}, function(){return 2;})
    		add(new Function("x","y","return x+y;"),new Function("x","y","return x*y;"));
 			
  	//7.回调函数：将函数作为参数传递给其他函数
  		// 优势：节省全局变量，有助于根据需求调整代码，提升性能
  		//有函数A,B，实现函数A传入任意三个参数，分别乘以2后加上函数B的参数的个数，结果以数组形式输出                                                                     
  		function func(a,b,c,callback){
  			var i,ar=[];
  			for(i=0;i<3;i++){
  				ar[i]=callback(arguments[i]*2,1,5,'c');
  			}
  			return ar;
  		}	
  		console.log(func(1,2,3,function(a){return a + arguments.length;}))
  	//8.自调函数：定义后自行调用
  		//原理因为JavaScript里括弧()里面不能包含语句，所以在这一点上，解析器在解析function关键字的时候，会将相应的代码解析成function表达式，而不是function声明        
  		//推荐使用: (函数表达式(arguments)) 
  		//也可以使用(函数表达式)(arguments)
  		console.log(new Function("x","y","return x*y;")(3,4));
  		(
  			function(a,b){
  				console.log(a-b) ;
  			}(6,5)
  		)
		
	
		

</script>
</head>
<body>
	
</body>
</html>
