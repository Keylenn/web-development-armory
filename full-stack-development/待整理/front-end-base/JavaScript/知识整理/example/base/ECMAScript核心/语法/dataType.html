<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>数据类型</title>
	<style>
		em{
			color:red;
			font-size:18px;
		}
		a{
			text-decoration:none;
			color:#666;
		}
	</style>
</head>
<body>
	<section>
		<h3>数据类型是什么</h3>
		<h4>ECMAScript提供了 6 种数据类型，即Boolean、Number、String、Null、Undefined、Object</h4>
		<p>1）Undefined类型只有一个值，即特殊的undefined。在使用var声明变量但未对其加以初始化时，这个变量的值就是undefined</p>
		<script>
			var message;
    		console.log(message == undefined) //true
		</script>
		<p>2）Null类型是第二个只有一个值的数据类型，这个特殊的值是null。从逻辑角度来看，null值表示一个空对象指针，而这也正是使用typeof操作符检测null时会返回"object"的原因</p>
		<p>如果定义的变量准备在将来用于保存对象，那么最好将该变量初始化为null而不是其他值</p>
		<script>
			var obj=null;
			console.log(typeof obj);//object
		</script>
		<p>3）Boolean类型只有两个字面值：true和false。这两个值与数字值不是一回事，因此true不一定等于1，而false也不一定等于0</p>
		<script>
			var b=true;
			console.log(typeof b);//boolean
		</script>
		<p>4）Number类型(NaN,整数，浮点数，Infinity)</p>
		<p>NaN本身有两个非同寻常的特点。首先，任何涉及NaN的操作（例如NaN/10）都会返回NaN，这个特点在多步计	算中有可能导致问题。其次，NaN与任何值都不相等，包括NaN本身</p>
		<p>八进制和十六进制：当一个数以数字0+字母（O/o）开头时，表示八进制数，以数字0+字母（X/x）开头时，表示十六进制数</p>
		<p>指数表示法：一个数字后面加上字母（E/e）和运算符（+（可省略）、-）和整数n，代表这个数字的小数点向后（+）或者向前（-）移动n位</p>
		<p>Infinity:代表了超出JavaScript处理范围的数值,最大值为1.7976931348623147e+308，最小值为5e-324,任何数除0都为Infinity,Infinity+Infinity、Infinity与处理范围内的数字运算后结果为Infinity，但Infinity-Infinity返回NaN</p>
		<p>数值转换：Number()、parseInt()和parseFloat()</p>
<pre>
	Number()函数的转换规则如下(parseInt()和parseFloat()直接看例子)：
	　　	● 如果是Boolean值，true和false将分别被替换为1和0
	　　	● 如果是数字值，只是简单的传入和返回			
	　　	● 如果是null值，返回0			
	　　	● 如果是undefined，返回NaN			
	　　	● 如果是字符串，遵循下列规则：	
				如果字符串中只包含数字，则将其转换为十进制数值，即”1“会变成1，”123“会变成123，而”011“会变成11（前导的0被忽略）	
				如果字符串中包含有效的浮点格式，如”1.1“则将其转换为对应的浮点数(同样，也会忽略前导0)
				如果字符串中包含有效的十六进制格式，例如”0xf“，则将其转换为相同大小的十进制整数值
				如果字符串中包含除了上述格式之外的字符，则将其转换为NaN
		● 如果是对象，则调用对象的valueOf()，然后依照前面的规则转换返回的值。
		● 如果转换的结果是NaN，则调用对象的toString()方法，然后再依次按照前面的规则转换返回的字符串值。		  	
</pre>
		<script>
			console.log(NaN===NaN);//false

			var n1=0o377;//255
			var n2=0xff;//255
			
			var n3=10e3;//10000
			var n4=1.24E-2;//0.0124

		 	var n5 = Number("Hello World");    //NaN
			var n6 = Number("");                //0
		 	var n6 = Number("000011");        //11
		 	var n7 = Number(true);            //1

		 	var n8 = parseInt("1234blue");    //1234
	    	var n9 = parseInt("");            //NaN
	    	var n10 = parseInt("0xA");            //10（十六进制）
	    	var n11= parseInt("22.5");        //22
	    	var n12= parseInt("070");            //56（八进制）
	    	var n13= parseInt("70");            //70
	    	var n14= parseInt("10",2);        //2（按二进制解析）
	    	var n15= parseInt("10",8);        //8(按八进制解析)
	    	var n16= parseInt("10",10);        //10（按十进制解析）
	    	var n17 = parseInt("10",16);        //16（按十六进制解析）
	    	var n18 = parseInt("AF");            //56（八进制）
	    	var n19 = parseInt("AF",16);        //175
    		var n20 = parseFloat("1234blue");    //1234
	    	var n21 = parseFloat("0xA");        //0
	    	var n22= parseFloat("22.5");        //22.5
	    	var n23= parseFloat("22.34.5");    //22.34
	    	var n24= parseFloat("0908.5");    //908.5

	    	var n25=1e308;//1e308
	    	var n26=1e309;//Infinity
	    	var n27=5e-324;//5e-324
	    	var n28=5e-325;//0
	    	var n29=6/0;//Infinity
	    	var n30=Infinity+Infinity;//Infinity
	    	var n31=Infinity-99999;//Infinity
	    	var n32=Infinity-Infinity;//NaN
		</script>

		<p>5）String类型用于表示由零或多个16位Unicode字符组成的字符序列，即字符串。字符串可以由单引号(')或双引号(")表示。</p>
		<p>字符串转换：toString(),String(),+操作符</p>
		<script>
			var a="hello";
			var b='hello';
			console.log(a===b);//true

			//数值、布尔值、对象和字符串值都有toString()方法。但null和undefined值没有这个方法。
			var age = 10;
			var ageAsString1 = age.toString();    //字符串"10"
			var ageAsString2 = age.toString(2);   //字符串"1010"
			var found = true; //字符串"true"

			//在不知道要转换的值是不是null或undefined的情况下，还可以使用转型函数String()，这个函数能够将任何类型的值转换为字符串。String()函数遵循下列转换规则：

　　        //● 如果值有toString()方法，则调用该方法（没有参数）并返回相应的结果
	
	    	//● 如果值是null，则返回"null"

　　        //● 如果值是undefined，则返回”undefined“
		    var value1 = 10; //"10"
			var value2 = true;//"true"
			var value3 = null;//"null"
			var value4; //"undefined"

			// +=""
			var num = 10;//number
			num+="";//string
		</script>
		<p>6)Object类型,对象其实就是一组数据和功能的集合。对象可以通过执行new操作符后跟要创建的对象类型的名称来创建。而创建Object类型的实例并为其添加属性和（或）方法，就可以创建自定义对象。</p>
		<script>
			var s="a";
			console.log(typeof a);//string
			var o1=new String("a");
			console.log(typeof o1);//object
			var o2=new Object();
			console.log(typeof o2);//object
		</script>
	</section>
	<hr>

	<section>
	<h3>为什么有数据类型</h3>
	<p>变量是用来存储值的所在处，它们有名字和数据类型。变量的数据类型决定了变量存储的值是如何存储到计算机的内存中的</p>
	</section>
	<hr>

	<section>
	<h3>怎么使用数据类型</h3>
	<h4>作用</h4>
	<p>1）需要设置一个变量时，根据该变量的功能作用决定其数据类型</p>
	<p>2）通过数据类型来实现一些功能（判断变量是否<em>存在、判空</em>，不同数据类型执行不同操作..）</p>
	<script>
	 	var ex;
	 	if( typeof ex !=="undefined"){
	 		console.log(ex+"存在");
	 	}
	 	// function isExitsVariable(variableName) {
	 	//   try {
	 	//     if (typeof(variableName) == "undefined") {
	 	//       //alert("value is undefined"); 
	 	//       return false;
	 	//     } else {
	 	//       //alert("value is true"); 
	 	//       return true;
	 	//     }
	 	//   } catch(e) {}
	 	//   return false;
	 	// }
	 	// var ex=null;
	 	// console.log(isExitsVariable(ex));//true
	 	
	 	//存在且不为空
	 	 var nl=0;
	 	if(typeof nl !=="undefined" && nl!==null){
	 		console.log("不为空");
	 	}
	</script>

	<h4>Undefined VS Null</h4>
	<p>undefined值是派生自null值的，因此ECMA-262规定对它们的相等性测试要返回true,但是用途不同。</p>
	<p>如果定义的变量准备在将来用于保存对象，那么最好将该变量初始化为null而不是其他值。</p>
	<script>
		console.log(undefined == null);//true
		console.log(undefined === null);//false
		var und;
		console.log(Object.prototype.toString.call(und));//[object Undefined]
		var nul=null;
		console.log(Object.prototype.toString.call(nul));//[object Null]
	</script>
	<p>undefined代表了不存在的值</p>
	<pre>
    任何声明变量时没有提供一个初始值，都会有一个为undefined的默认值
    当试图访问一个不存在的对象属性或数组项时，返回一个undefined值
    如果省略了函数的返回语句,返回undefined
    函数调用时未提供的值结果将为undefined参数值
    void操作符也可以返回一个undefined值。像Underscore的库使用它作为一个防御式的类型检查，因为它是不可变的，可以在任何上下文依赖返回undefined
    undefined是一个预定义的全局变量(不像null关键字)初始化为undefined值
	</pre>
	<p>通常用作一个空引用一个空对象的预期,就像一个占位符。typeof的这种行为已经被确认为一个错误，虽然提出了修正，出于后兼容的目的，这一点已经保持不变。 这就是为什么JavaScript环境从来没有设置一个值为null；它必须以编程方式完成。</p>
	<pre>
	使用null的情况:
	    DOM，它是独立于语言的，不属于ECMAScript规范的范围。因为它是一个外部API，试图获取一个不存在的元素返回一个null值，而不是undefined。
	    如果你需要给一个变量或属性指定一个不变值，将它传递给一个函数，或者从一个函数返回null，null几乎总是最好的选择。
	    JavaScript使用undefined并且程序员应该使用null。
	    通过分配null值，有效地清除引用，并假设对象没有引用其他代码，指定垃圾收集，确保回收内存。
	</pre>
	
	<h4>typeof VS instanceof</h4>
	<p>typeof操作符，返回一个代表数据类型的字符串（包括boolean、number、string、null、undefined、object、function）,格式是 typeof 变量</p>
	<p>instanceof操作符,要求开发者明确地确认对象为某特定类型，返回true或者false，格式是：变量 instanceof 确定的对象类型</p>
	<p>一般来说，判断一个基本类型的值类型时可以用typeof，判断引用类型的值类型应该使用instanceof，而且instanceof可以用来测试一个对象是否由某个指定的构造器函数所创建的</p>
	<script>
	var ud;
	console.log(typeof ud);//undefined

	var nul=null;
	console.log(typeof nul);//object  typeof null返回object
	console.log(nul instanceof Object);//false  null类型

	var str="";
	console.log(typeof str);//string

	var arr=[1,2,3];
	console.log(typeof arr);//object
	console.log(arr instanceof Array);//true

	var f=function(){
		var a=1;
	};
	console.log(typeof f);//function
	console.log(f instanceof Function);//true

	var o=new Object();
	console.log(o instanceof Object);//true

	function Con(){}
	var con=new Con();
	console.log(typeof con);//object
	console.log(con instanceof Con);//true


	</script>
	</section>
</body>
</html>