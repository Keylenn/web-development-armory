<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>DOM树各种操作大全</title>
	<style>
		em{
			color:red;
			font-size: 20px;
		}
		.p33{
			color:blue;
			font-weight: bolder;
		}
	</style>
</head>
<body onload="checkCookies()">
	<article>
		<h3>1.DOM的访问</h3>
		<h4>1)通过使用 getElementById() 方法</h4>
		<h4>2)通过使用 getElementsByTagName() 方法</h4>
		<h4>3)通过使用 getElementsByClassName() 方法</h4>
		<p><em>注意：</em>通过getElementsByTagName()和 getElementsByClassName()方法获得的是节点列表（集合/节点数组）,使用时应该加<em>.[n]</em>(n表示第几个)</p>
		<p>无论获取什么节点，<em>首先要获取标签节点，</em>只有获取到标签节点，才能进行属性、文本节点的获取，切记，切记。</p>
		<hr>
	</article>
	<article>
		<h3>2.DOM的修改</h3>
		<h4>1)改变 HTML 内容,通过innerHTML属性</h4>
		<p id="p11">Hello World!</p>
		<script>
			var p11 =document.getElementById("p11");
			document.write("原文本："+p11.innerHTML);
			p11.innerHTML="新文本!";
		</script>

		<h4>2)改变 CSS 样式</h4>
		<p id="p21">Hello world!</p>
		<p id="p22">Hello world!</p>
		<script>
			var p22=document.getElementById("p22");
			p22.style.color="blue"
			p22.style.backgroundColor="rgba(100,100,100,0.3)";
			p22.style.width="100px";
		</script>

		<h4>3)改变 HTML 属性</h4>
		<p class="p31">Hello world!</p>
		<p id="p32" class="p32">Hello world!</p>
		<script>
			var p32=document.getElementById("p32");
			p32.className="p33";
		</script>

		<h4>4)创建新的 HTML 元素</h4>
		<div id="div1">
		<p id="p41">这是一个段落。</p>
		<p id="p42">这是另一个段落。</p>
		</div>
		<button onclick="func(1)">通过appendChild()添加</button>
		<button onclick="func(2)">通过insertBefore()添加</button>
		<script>
			function func(a){
				var para4=document.createElement("p");//创建一个p元素
				var node4=document.createTextNode("这是一个新段落。");//创建一个文本元素
				para4.appendChild(node4);//在p元素上添加文本元素
				var element4=document.getElementById("div1");
				if(a==1){
					element4.appendChild(para4);//在div元素后添加p元素
				}
				if(a==2){
					var p41=document.getElementById("p41");
					element4.insertBefore(para4,p41);
				}
			}
		</script>

		<h4>5)删除已有的 HTML 元素</h4>
		<div id="div2">
			<p id="P51">这是一个段落。</p>
			<p id="p52">这是另一个段落。</p>
		</div>
		<script>
			var parent5=document.getElementById("div2");
			var child5=document.getElementById("P51");
			parent5.removeChild(child5);//在div元素上删除子元素p（id为p52）
		</script>
			
		<h4>6)替换 HTML 元素</h4>
		<div id="div3">
			<p id="p61">这是一个段落。</p>
			<p id="p62">这是另外一个段落。</p>
		</div>

		<script>
		var parent6=document.getElementById("div3");
		var child6=document.getElementById("p61");
		var para6=document.createElement("p");
		var node6=document.createTextNode("这是一个新的段落,替换了第一个段落。");
		para6.appendChild(node6);
		parent6.replaceChild(para6,child6);
		</script>
	</article>
	<hr>
	<article>
		<h3>3.DOM事件</h3>
		<h4>1)当用户点击鼠标时</h4>
		<p id="p71">Hello world!</p>
		<script>
			function ChangeText(){
			    document.getElementById("p71").innerHTML="Hello JavaScript!";
			}
		</script>
		<input type="button" onclick="ChangeText()" value="修改文本" />
		
		<h4>2)当网页已加载时</h4>
		<script>
			function checkCookies(){
			if (navigator.cookieEnabled==true){
				alert("Cookies are enabled")
				}
			else{
				alert("Cookies are not enabled")
				}
			}
		</script>
		<p>弹出的提示框会告诉你浏览器是否已启用 cookie。</p>
		
		<h4>3)当图像已加载时</h4>
		<img src="./imgs/eg_bulboff.gif" alt="">
		<img src="./imgs/eg_bulboff.gif"  onload="lightOn()" id="bulb" alt="">
		<script>
			function lightOn(){
				var bulb=document.getElementById("bulb");
				bulb.src="./imgs/eg_bulbon.gif";
			}
		</script>
		<p>当图像已加载时,改变第二个图片的src属性</p>
		
		<h4>4)当鼠标移动到元素上时</h4>
		
		<div onmouseover="mOver(this)" onmouseout="mOut(this)" style="background-color:green;width:120px;height:20px;padding:40px;color:#ffffff;">把鼠标移到上面</div>
		<script>
			function mOver(obj){
				obj.innerHTML="谢谢"
			}
			function mOut(obj){
				obj.innerHTML="把鼠标移到上面"
			}
		</script>

		<h4>5)当输入字段被改变时</h4>
		请输入英文字符：<input type="text" id="fname" onchange="myFunction()">
		<p>当您离开输入字段时，会触发将输入文本转换为大写的函数。</p>
		<script>
			function myFunction(){
				var x=document.getElementById("fname");
				x.value=x.value.toUpperCase();
			}
		</script>

		<h4>6)当提交 HTML 表单时</h4>
		<form name="form" action="#" method="post"  onsubmit="return check()"><!-- return是必须的，只有当onsubmit="return false"为不执行提交 -->
 			<input type="text" id="name"/>
  			<input type="submit" value="提交"/>
		</form>
		<script>
			function check(){
				var name = document.getElementById("name").value;
				if(name ==  null || name == ''){
				alert("用户名不能为空");
				return false;
				}
				 return true;
			}
		</script>

		<h4>7)当用户触发键盘按键时</h4>
		<input type="text" onkeydown="return noNumbers(event)" />
		<script type="text/javascript">
			function noNumbers(e){
			    var keynum;
			    var keychar;
			    keynum = window.event ? e.keyCode : e.which;//Internet Explorer/Chrome 浏览器使用 event.keyCode 取回被按下的字符，而 Netscape/Firefox/Opera 等浏览器使用 event.which
			    keychar = String.fromCharCode(keynum);
			    console.log(keynum+':'+keychar);
		}
		</script>
		 
	</article>
	
</body>
</html>