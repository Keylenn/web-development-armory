<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>DOM文档对象模型基础</title>
	<style>
		section.DOMTreeNode pre{
			border: 1px solid rgba(255,0,0,0.8);
			width:400px;
		}
		em{
			color:red;
		}
		.demoClass{
			color:#f55;
		}
	</style>
	
	
</head>
<body>
	<article>
		<h2>1.THML DOM树--节点</h2>
		<p>我是文本结点，我包含在p结点内！<em>注意DOM 处理中的常见错误是希望元素节点包含文本</em></p>
		<section class="DOMTreeNode">
			<pre>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;DOM 教程&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;DOM 第一课&lt;/h1&gt;
    &lt;p&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
从上面的 HTML 中：

    &lt;html&gt; 节点没有父节点；它是根节点
    &lt;head&gt; 和 &lt;body&gt; 的父节点是 &lt;html&gt; 节点
    文本节点 "Hello world!" 的父节点是 &lt;p&gt; 节点
并且：
    &lt;html&gt; 节点拥有两个子节点：&lt;head&gt; 和 &lt;body&gt;
    &lt;head&gt; 节点拥有一个子节点：&lt;title&gt; 节点
    &lt;title&gt; 节点也拥有一个子节点：文本节点 "DOM 教程"
    &lt;h1&gt; 和 &lt;p&gt; 节点是同胞节点，同时也是 &lt;body&gt; 的子节点
并且：
    &lt;head&gt; 元素是 &lt;html&gt; 元素的首个子节点
    &lt;body&gt; 元素是 &lt;html&gt; 元素的最后一个子节点
    &lt;h1&gt; 元素是 &lt;body&gt; 元素的首个子节点
    &lt;p&gt; 元素是 &lt;body&gt; 元素的最后一个子节点
			</pre>
		</section>
	</article>
	<hr>
	<article>
		<h2>2.DOM方法和属性</h2>

		<h3>1）获取节点的方法</h3>
		<em>无论获取什么节点，首先要获取标签节点，只有获取到标签节点，才能进行属性、文本节点的获取，切记，切记。</em>
		<section>
			<h4>①获取元素（标签）节点的方法</h4>
			<p id="getById">1)getElementById()返回带有指定 ID 的元素<em>注意Element后面没有s</em></p>
			<p class="getByClassName">2)getElementsByClassName() 	返回包含带有指定类名的所有元素的节点列表</p>
			<p>3)getElementsByTagName()返回包含带有指定标签名称的所有元素的节点列表（集合/节点数组）</p>
			<script>
				var getById=document.getElementById("getById");
				console.log(getById);

				var getByClassName=document.getElementsByClassName("getByClassName")[0];
				console.log(getByClassName);

				var getByTagName=document.getElementsByTagName("p")[3];
				console.log(getByTagName);
			</script>
		</section>
		
		<section>
			<h4>②获取属性节点的方法</h4>
			<p id="getAttr1">1)通过元素节点 . 属性名来获取官方定义的属性节点(获取元素的对应属性值)</p>

			<p id="getAttr2" my="mydefine">2)通过元素节点 . getAttribute(属性名)来获取官方定义的属性节点或者自定义的属性节点</p>

			<script>
				var getAttr1=document.getElementById("getAttr1");
				console.log(getAttr1.id);

				var getAttr2=document.getElementById("getAttr2");
				console.log(getAttr2.getAttribute("my"));
			</script>
		</section>

		<section>
			<h4>③获取文本节点的方法</h4>
			<p id="getTNode1">1)通过元素节点.firstChild.nodeValue</p>
			<p id="getTNode2">2)通过元素节点.innerText</p>
			<p id="getTNode3">3)通过元素节点.innerHTML</p>
			<script>
				var getTNode1=document.getElementById("getTNode1");
				console.log(getTNode1.firstChild.nodeValue);

				var getTNode2=document.getElementById("getTNode2");
				console.log(getTNode2.innerText);

				var getTNode3=document.getElementById("getTNode3");
				console.log(getTNode3.innerHTML);
			</script>
		</section>
		<section id="getChid">
			<h4>④获取父节点、子节点、同胞节点的方法</h4>
			<p>通过元素节点.firstChild获取第一个子节点</p>
			<p>通过元素节点.lastChild获取最后一个子节点</p><p id="getPSibling">通过元素节点.previousSibling获取上一个同胞节点</p>
			<p id="getNSibling">通过元素节点.nextSibling获取下一个同胞节点</p>
			<p id="getPNode">通过元素节点.parentNode获取父节点</p>
			<script>
				var getChid=document.getElementById("getChid");
				console.log(getChid.firstChild);//#text 第一个子节点是section后面的空格
				console.log(getChid.lastChild);//<script>

				var getPSibling=document.getElementById("getPSibling");
				console.log(getPSibling.previousSibling);//<p>

				var getNSibling=document.getElementById("getNSibling");
				console.log(getNSibling.nextSibling);//#text 

				var getPNode=document.getElementById("getPNode");
				console.log(getPNode.parentNode);//<section id="getChid">
			</script>
		</section>
		<hr>
		<h3>2）添加、创建、替换、插入、删除、修改节点等操作方法</h3>
		<section>
			<p>createElement()：创建元素节点</p>
			<p>createTextNode()：创建文本节点</p>
			<p>createAttribute()：创建属性节点</p>
			<p>getAttribute()：返回指定的属性值</p>
			<p>setAttribute()：把指定属性设置或修改为指定的值</p>
			<p>appendChild()：把新的子节点添加到指定节点</p>
			<p>removeChild():删除指定元素的某个指定的子节点</p>
			<p>replaceChild()：用新节点替换某个子节点</p>
			<p>insertBefore()：在指定的子节点前面插入新的子节点</p>

			<ul id="myList">
				<li id="fLi">咖啡</li>
				<li>茶</li>
			</ul>
			<button onclick="myFunction(1)">添加节点</button>
			<button onclick="myFunction(2)">删除节点</button>
			<button onclick="myFunction(3)">替换节点</button>
			<button onclick="myFunction(4)">插入节点</button>
			<button onclick="myFunction(5)">属性节点</button>
			

			<script>
				function myFunction(a){
					if(a==1){
						var node=document.createElement("LI");
						var textnode=document.createTextNode("白开水");
						node.appendChild(textnode);
						document.getElementById("myList").appendChild(node);
					}
					if(a==2){
						var list=document.getElementById("myList");
						list.removeChild(list.childNodes[0]);
					}
					if(a==3){
						var textnode=document.createTextNode("果汁");
						var item=document.getElementById("myList");
						item.replaceChild(textnode,item.childNodes[0]);
					}
					if(a==4){
						var newItem=document.createElement("LI");
						var textnode=document.createTextNode("牛奶");
						newItem.appendChild(textnode);

						var list=document.getElementById("myList");
						list.insertBefore(newItem,list.childNodes[1]);
					}
					if(a==5){
						var fLi=document.getElementById("fLi");
						var newArr=document.createAttribute("class");
						newArr.value="demoClass";
						fLi.setAttributeNode(newArr);
					}
				}
			</script>
			<p><b>注释：</b>首先创建 LI 节点，然后创建文本节点，然后把这个文本节点追加到 LI 节点。最后把 LI 节点添加到列表中。</p>

		</section>
		<hr>
		<h3>3）DOM属性</h3>
		<section>
			<h4>①innerHTML 属性</h4>
			<p id="intro">获取或替换元素内容</p>
			<button onclick="func(1)">获取</button>
			<button onclick="func(2)">替换</button>
			<script>
				var txt=document.getElementById("intro");
				function func(a){
					if(a==1){
						var txt2=txt.innerHTML+"success";
						txt.innerHTML=txt2;
					}
					if(a==2){
						txt.innerHTML="Hello world";
					}
				}
			</script>

			<h4>②nodeName 属性</h4>
			<pre>nodeName 属性可依据节点的类型返回其名称。
  如果节点是一个元素节点 , nodeName 属性将返回标签名。
  如果节点是一个属性节点， nodeName 属性将返回属性名。
  其他节点类型, nodeName 属性将返根据不同的节点类型返回不同的节点名称
			</pre>
			<section id="demo1">
				<p id="x">单击按钮节点的节点名称。</p>
				<button onclick="myFunction1()">点我</button>
			</section>
			<script>
			function myFunction1(){
				var demo1=document.getElementById("demo1").childNodes;
				var txt="";
				for(var i=0;i<demo1.length;i++){
					txt+=demo1[i].nodeName+"<br>";
				}
				var x=document.getElementById("x");
				x.innerHTML=txt;
			}
			</script>
			<p><strong>注意:</strong> 空格元素是文本，文本是节点</p>

			<h4>③nodeValue属性</h4>
			<p>nodeValue 属性根据节点的类型设置或返回节点的值</p>
			<p><em>注意：</em>如果你想返回元素的文本，记住文本通常是插入到文本节点中，所以返回的是文本节点的节点值(element.childNodes[0].nodeValue)</p>
			<p id="demo2">单击按钮获取按钮元素的节点值。</p>
			<button onclick="myFunction2()">点我</button>
			<script>
			function myFunction2(){
				var c=document.getElementsByTagName("BUTTON")[0];
				var demo2=document.getElementById("demo2");  
				demo2.innerHTML=c.childNodes[0].nodeValue;
			}
			</script>
			<p><strong>注意:</strong>文本的元素被认为是文本节点,所以我们返回按钮元素的第一个孩子的节点值(childNodes[0])</p>

			<h4>④nodeType</h4>
			<p>nodeType 属性返回节点类型</p>
			<section id="NdType">
				<p>元素类型返回1</p>
				<p class="NdTypeAttr">属性类型返回2</p>
				<p>文本类型返回3</p>
				<p>注释类型返回8</p><!-- 注释 -->
				<p>文档类型返回9</p>
			</section>
			<p id="demo3">单击按钮获取节点类型。</p>
			<button onclick="myFunction3()">点我</button>
			<script>
			function myFunction3(){
				var txt="";
				var NdType=document.getElementById("NdType").childNodes;
				txt+=NdType[1].nodeType;
				var NdTypeAttr=document.getElementsByClassName("NdTypeAttr")[0].getAttributeNode("class");
				txt+=NdTypeAttr.nodeType;
				txt+=NdType[2].nodeType;
				txt+=NdType[8].nodeType;
				txt+=document.nodeType;
				var x=document.getElementById("demo3");  
				x.innerHTML=txt;
			}
			</script>
			<p><strong>注意:</strong> 空格元素是文本，文本是节点.</p>
		</section>
			
	</article>

</body>
</html>
